import{t as C,a as D}from"../chunks/C06YIbpK.js";import{p as L,a as O,s as x,t as j,b as I,c as _,g as u,d as r,r as a,e as h}from"../chunks/fUOi5Kuw.js";import{s as n}from"../chunks/CAI48k2J.js";import{o as P}from"../chunks/g_mddpEM.js";var X=C('<main class="svelte-1jefzxz"><h2> </h2> <div class="north"><div class="northY"> </div> <div class="northX"> </div></div> <div class="message"> </div></main>');function J(w,M){L(M,!0);let S="Compass",y="",E=O({frequency:1,referenceFrame:"screen"}),p=x(0),s=x("");function b(e,t=0){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}function N(e){const[t,o,l,A]=e;let g=(Math.atan2(2*(A*l+t*o),1-2*(o*o+l*l))*(180/Math.PI)+360)%360;return _(p,b(g,6),!0),$(g)}function $(e){const t=["North","North-East","East","South-East","South","South-West","West","North-West","North"],o=Math.round(e/45)%8;return t[o]}P(()=>{if("AbsoluteOrientationSensor"in window){const e=new AbsoluteOrientationSensor(E);e.addEventListener("reading",()=>{const t=e.quaternion;t&&(_(s,N(t),!0),console.log(`Facing: ${u(s)}`))}),e.addEventListener("error",t=>{console.error("Sensor error:",t.error)}),e.start()}});var i=X(),c=r(i),q=r(c);a(c);var d=h(c,2),v=r(d),z=r(v);a(v);var m=h(v,2),F=r(m);a(m),a(d);var f=h(d,2),W=r(f,!0);a(f),a(i),j(()=>{n(q,`${S}:`),n(z,`degrees: ${u(p)??""}`),n(F,`direction: ${u(s)??""}`),n(W,y)}),D(w,i),I()}export{J as component};
