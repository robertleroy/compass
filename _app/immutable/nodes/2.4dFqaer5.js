import{t as M,b as O}from"../chunks/xF4eCYjv.js";import{B as g,A as S,D as y,E as w,C as q,F as a,G as l,I as v,J as h,K as p}from"../chunks/BAKmnEnS.js";import{s as x}from"../chunks/CORUfmNV.js";import{o as z}from"../chunks/a6AaAAR9.js";function E(t,r){return t==null?null:String(t)}function $(t,r,c,n){var i=t.__style;if(g||i!==r){var s=E(r);(!g||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=r}return n}var C=M('<main class="svelte-xiug21"><h2> </h2> <div class="shell svelte-xiug21"><div class="compass svelte-xiug21"></div></div> <div class="message"> </div></main>');function B(t,r){S(r,!0);let c="Compass",n=y(""),i=y(15);z(()=>{if("AbsoluteOrientationSensor"in window)try{const o=new AbsoluteOrientationSensor({frequency:60});o.addEventListener("reading",()=>{const e=o.quaternion,f=new DOMMatrixReadOnly([1-2*(e[1]**2+e[2]**2),2*(e[0]*e[1]-e[2]*e[3]),2*(e[0]*e[2]+e[1]*e[3]),0,2*(e[0]*e[1]+e[2]*e[3]),1-2*(e[0]**2+e[2]**2),2*(e[1]*e[2]-e[0]*e[3]),0,2*(e[0]*e[2]-e[1]*e[3]),2*(e[1]*e[2]+e[0]*e[3]),1-2*(e[0]**2+e[1]**2),0,0,0,0,1]).transformPoint({x:0,y:0,z:-1});a(i,Math.atan2(f.x,f.z)*(180/Math.PI))}),o.addEventListener("error",e=>{console.error("Sensor error:",e),a(n,"error")}),o.start()}catch(o){console.error("Failed to initialize AbsoluteOrientationSensor:",o),a(n,"AbsoluteOrientationSensor is not supported or permission denied.")}else a(n,"AbsoluteOrientationSensor is not supported on this device")});var s=C(),u=l(s),b=l(u);v(u);var d=h(u,2),_=l(d);v(d);var m=h(d,2),A=l(m,!0);v(m),v(s),w(()=>{x(b,`${c}: ${p(i)??""}`),$(_,`rotate: ${p(i)??""}(deg);`),x(A,p(n))}),O(t,s),q()}export{B as component};
