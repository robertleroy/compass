import{t as A,a as C}from"../chunks/C06YIbpK.js";import{p as D,a as L,s as x,t as O,b as j,c as _,g as u,d as r,r as s,e as h}from"../chunks/fUOi5Kuw.js";import{s as o}from"../chunks/CAI48k2J.js";import{o as I}from"../chunks/g_mddpEM.js";var P=A('<main class="svelte-1jefzxz"><h2> </h2> <div class="north"><div class="northY"> </div> <div class="northX"> </div></div> <div class="message"> </div></main>');function H(w,S){D(S,!0);let y="Compass",E="",b=L({frequency:60,referenceFrame:"screen"}),m=x(0),n=x("");function M(t){const[e,a,l,W]=t;let f=(Math.atan2(2*(W*l+e*a),1-2*(a*a+l*l))*(180/Math.PI)+360)%360;return _(m,f),N(f)}function N(t){const e=["North","North-East","East","South-East","South","South-West","West","North-West","North"],a=Math.round(t/45)%8;return e[a]}I(()=>{if("AbsoluteOrientationSensor"in window){const t=new AbsoluteOrientationSensor(b);t.addEventListener("reading",()=>{const e=t.quaternion;e&&(_(n,M(e),!0),console.log(`Facing: ${u(n)}`))}),t.addEventListener("error",e=>{console.error("Sensor error:",e.error)}),t.start()}});var i=P(),c=r(i),$=r(c);s(c);var d=h(c,2),v=r(d),q=r(v);s(v);var p=h(v,2),z=r(p);s(p),s(d);var g=h(d,2),F=r(g,!0);s(g),s(i),O(()=>{o($,`${y}:`),o(q,`degrees: ${u(m)??""}`),o(z,`direction: ${u(n)??""}`),o(F,E)}),C(w,i),j()}export{H as component};
