import{t as W,a as A}from"../chunks/C06YIbpK.js";import{p as C,a as D,s as L,t as O,b as $,c as j,g as f,d as r,r as a,e as m}from"../chunks/fUOi5Kuw.js";import{s}from"../chunks/CAI48k2J.js";import{o as I}from"../chunks/g_mddpEM.js";var P=W('<main class="svelte-1jefzxz"><h2> </h2> <div class="north"><h2 class="northX"> </h2> <div class="northY"> </div></div> <div class="message"> </div></main>');function H(g,h){C(h,!0);let x="Compass",_="",w=D({frequency:1,referenceFrame:"screen"}),S=0,o=L("");function y(e){const[t,n,v,z]=e;let F=360-(Math.atan2(2*(z*v+t*n),1-2*(n*n+v*v))*(180/Math.PI)+360)%360;return E(F)}function E(e){const t=["N","NE","E","SE","S","SW","W","NW","N"],n=Math.round(e/45)%8;return t[n]}I(()=>{if("AbsoluteOrientationSensor"in window){const e=new AbsoluteOrientationSensor(w);e.addEventListener("reading",()=>{const t=e.quaternion;t&&(j(o,y(t),!0),console.log(`Facing: ${f(o)}`))}),e.addEventListener("error",t=>{console.error("Sensor error:",t.error)}),e.start()}});var i=P(),c=r(i),b=r(c);a(c);var d=m(c,2),l=r(d),M=r(l,!0);a(l);var p=m(l,2),N=r(p,!0);a(p),a(d);var u=m(d,2),q=r(u,!0);a(u),a(i),O(()=>{s(b,`${x}:`),s(M,f(o)),s(N,S),s(q,_)}),A(g,i),$()}export{H as component};
