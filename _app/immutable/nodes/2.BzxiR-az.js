import{t as l,a as d}from"../chunks/umD_IZwW.js";import{p,a as c}from"../chunks/boJweBAG.js";import{o as m}from"../chunks/BBh9n64u.js";var u=l('<main class="svelte-1k7nti4"><h2>Compass</h2> <div class="shell svelte-1k7nti4"><div class="compass svelte-1k7nti4"></div></div></main>');function O(n,r){p(r,!0),m(()=>{if("AbsoluteOrientationSensor"in window)try{const e=new AbsoluteOrientationSensor({frequency:60});e.addEventListener("reading",()=>{const t=e.quaternion,o=new DOMMatrixReadOnly([1-2*(t[1]**2+t[2]**2),2*(t[0]*t[1]-t[2]*t[3]),2*(t[0]*t[2]+t[1]*t[3]),0,2*(t[0]*t[1]+t[2]*t[3]),1-2*(t[0]**2+t[2]**2),2*(t[1]*t[2]-t[0]*t[3]),0,2*(t[0]*t[2]-t[1]*t[3]),2*(t[1]*t[2]+t[0]*t[3]),1-2*(t[0]**2+t[1]**2),0,0,0,0,1]).transformPoint({x:0,y:0,z:-1}),a=Math.atan2(o.x,o.z)*(180/Math.PI),i=document.getElementById("compass");i.style.transform=`rotate(${a}deg)`}),e.addEventListener("error",t=>{console.error("Sensor error:",t)}),e.start()}catch(e){console.error("Failed to initialize AbsoluteOrientationSensor:",e),alert("AbsoluteOrientationSensor is not supported or permission denied.")}else alert("AbsoluteOrientationSensor is not supported on this device.")});var s=u();d(n,s),c()}export{O as component};
